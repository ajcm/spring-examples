<!DOCTYPE html>
<html th:replace="~{fragments/layout :: layout(~{::title}, ~{::section})}">
<head>
    <title>Page Title</title>
</head>
<body>
<section class="py-3 container">
    <div class="row py-lg-5">

        <main class="form-signin w-75 m-auto">
            <table class="table table-bordered table-striped">
                <thead>
                <tr>
                    <td>Date</td>
                    <td>Sender</td>
                    <td>Subject</td>
                    <td>Delete</td>
                </tr>
                </thead>

                <tbody>
                <tr th:if="${messages.empty}">
                    <td colspan="3">No users</td>
                </tr>

                <tr th:each="message : ${messages}">
                    <td style=" width: 25%;" th:text="${message.created} ?: 'n/a'">n/a</td>
                    <td th:text="${message.sender}">Sender</td>
                    <td><a th:href="@{'/messages/read/' + ${message.id}}" th:text="${message.subject}"> Subject </a>
                    </td>

                    <td><a th:href="@{'/messages/delete/' + ${message.id}}"> Delete </a>
                    </td>

                </tr>
                </tbody>
            </table>


            <p class="lead text-body-secondary">New Message</p>

            <div class="container-sm">
                <form  th:action="@{/messages/post}"  method="post" >
                    <div class="mb-3">
                        <label for="exampleFormControlInput1" class="form-label">Subject</label>
                        <input name="subject" class="form-control" id="exampleFormControlInput1"
                               placeholder="subject">
                    </div>
                    <div class="mb-3">
                        <label for="exampleFormControlTextarea1" class="form-label">Body</label>
                        <textarea name="body" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                    </div>

                    <div class="mb-3">
                        <input type="submit" value="Submit"/>
                    </div>
                </form>
            </div>

        </main>


    </div>
</section>
</body>
</html>